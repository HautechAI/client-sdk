import { AccessApi, AttachAccessControllerParamsDto, GrantAccessControllerParams } from '../../autogenerated';
import { SDKOptions } from '../../types';
import { useAutogeneratedAPI } from '../api';

const resources = (options: SDKOptions) => {
    const api = useAutogeneratedAPI({ API: AccessApi, options });
    return {
        attach: async (props: AttachAccessControllerParamsDto & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerAttachAccessV1(props.id, props),
            }),
        grant: async (props: GrantAccessControllerParams & { id: string }): Promise<void> =>
            api.call({
                run: (methods) => methods.accessControllerGrantAccessV1(props.id, props),
            }),
    };
};

export default resources;
